@using Common;
@model MultiSelectModel

@{ var id = Model.Name.FirstLetterLowCase(); }
<div class="form-group">
    <label class="control-label" for="@id">@Model.Caption</label>
    <select id="@id" name="@Model.Name" class="form-control" multiple="multiple" style="height:@(Model.Height)">
        @foreach (var item in Model.Items)
        {
            if (Model.Selected != null && Model.Selected.Contains(item.Key))
            {
                <option value="@item.Key" selected="selected">@item.Value</option>
            }
            else
            {
                <option value="@item.Key">@item.Value</option>
            }
        }
    </select>
</div>